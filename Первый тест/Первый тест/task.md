Объединим все, что мы уже узнали,  
и вместо встроенной функции sum()  
протестируем простую реализацию с теми же требованиями.


Мы создадим новую папку для проекта **project**, 
внутри которой создайте новую папку с названием **my_sum**.

Внутри **my_sum** создадим пустой файл с названием **_init_.py**.  
Наличие этого файла значит, что папка **my_sum** может быть  
импортирована в виде модуля из родительского каталога.

Структура папок будет выглядеть так:

project/  
│  
└── my_sum/  
 └── __init__.py  

В my_sum/__init__.py мы создадим новую функцию  
с названием sum(),  
которая берет на вход объекты итерируемых классов (список, кортеж, множество)  
и складывает значения.
~~~python
def sum(arg):
    total = 0
    for val in arg:
        total += val
    return total
~~~

В этом примере создается переменная под названием total, 
перебираются все значения в arg  
и добавляются к total.  
Затем, по завершении итерации, результат возвращается.


### Где Писать Тест

Начать написание теста можно с создания файла test.py, в котором будет содержаться ваш первый тест-кейс.  
Для тестирования у файла должна быть возможность импортировать ваше приложение, поэтому положите test.py в папку project.  
Дерево каталогов будет выглядеть следующим образом:

project/  
├── my_sum/  
│ └── __init__.py  
└── test.py

Вы заметите, что по мере добавления новых тестов,  
ваш файл становится все более громоздким и сложным для поддержки,  
поэтому советуем создать папку **tests/** и разделить тесты на несколько файлов.  
Убедитесь, что названия всех файлов начинаются с **test_,** чтобы исполнители тестов понимали,  
что файлы Python содержат тесты, которые нужно выполнить.  
На больших проектах тесты делят на несколько директорий в зависимости от их назначения или использования.

Примечание: **Если ваше приложение представляет собой один скрипт?**  

Вы можете импортировать любые атрибуты скрипта: 
классы, функции или переменные, с помощью встроенной функции __import__(). 
Вместо from my_sum import sum напишите следующее:
~~~
target = __import__("my_sum.py")
sum = target.sum
~~~

При использовании __import__() вам не придется превращать папку проекта в пакет,   
и вы сможете указать имя файла.  
Это полезно, если имя файла конфликтует с названиями стандартных библиотек пакетов.    
Например, если math.py конфликтует с math модулем.


Поместим в файл test.py  
тест
~~~
import  unittest

class TestSum(unittest.TestCase):
    def test_list_int(self):
        """
        Test that it can sum a list of integers
        """
        data = [1, 2, 3]
        result = sum(data)
        self.assertEqual(result, 6)

if __name__ == '__main__':
    unittest.main()
~~~

Код примера
- обращается к функции sum(), описаной в project/__init__.py
- Определяет новый класс тест-кейса под названием TestSum, наследующий unittest.TestCase;
- Определяет тестовый метод .test_list_int() для тестирования целочисленного списка.  
- Определяет точку входа командной строки, которая запускает исполнителя теста unittest .main().

Метод .test_list_int() сделает следующее

- Объявит переменную data со списком значений (1, 2, 3);
- Присвоит значение my_sum.sum(data) переменной result;
- Определит, что значение result равно 6 с помощью метода .assertEqual() на unittest.TestCase классе.

Если вы не знаете, что такое self, или как определяется .assertEqual(), то можете освежить знания по объектно-ориентированному программированию с [Python 3 Object-Oriented Programming](https://realpython.com/python3-object-oriented-programming/).

