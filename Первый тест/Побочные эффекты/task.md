Писать тесты сложнее, чем просто смотреть на возвращаемое значение функции.  
Зачастую, выполнение кода меняет другие части окружения:  
атрибуты класса,  
файлы файловой системы,  
значения в базе данных. 

Это важная часть тестирования, которая называется **побочные эффекты**.  
Решите, тестируете ли вы побочный эффект до того, как включить его в список своих утверждений.

Если вы обнаружили, что в блоке кода, который вы хотите протестировать, много побочных эффектов,  
значит вы нарушаете **Принцип Единственной Ответственности**.  
Нарушение принципа единственной ответственности означает,  
что фрагмент кода делает слишком много вещей и требует **рефакторинга**.  
Следование принципу единственной ответственности — отличный способ проектирования кода,  
для которого не составит труда писать простые повторяемые модульные тесты,  
и, в конечном счете, создания надежных приложений.